{"ast":null,"code":"import _toConsumableArray from \"F:\\\\dbmovie-master\\\\dbmovie-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"F:\\\\dbmovie-master\\\\dbmovie-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\dbmovie-master\\\\dbmovie-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\dbmovie-master\\\\dbmovie-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\dbmovie-master\\\\dbmovie-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\dbmovie-master\\\\dbmovie-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\dbmovie-master\\\\dbmovie-master\\\\src\\\\components\\\\App.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport Nav from './Nav';\nimport SearchBox from './SearchBox';\nimport MovieList from './MovieList';\nimport Pagination from './Pagination';\nimport MovieInfo from './MovieInfo';\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.handleChange = function (e) {\n      _this.setState({\n        searchTerm: e.target.value\n      });\n    };\n\n    _this.logData = function () {\n      console.log(process.env.REACT_APP_API);\n    };\n\n    _this.handleSubmit = function (e) {\n      fetch(\"https://api.themoviedb.org/3/search/movie?api_key=\".concat(_this.apiKey, \"&query=\").concat(_this.state.searchTerm, \"&language=en-US&page=\").concat(_this.state.currentPage)).then(function (data) {\n        return data.json();\n      }).then(function (data) {\n        console.log(data);\n\n        _this.setState({\n          movies: _toConsumableArray(data.results),\n          totalResults: data.total_results\n        });\n      });\n      e.preventDefault();\n    };\n\n    _this.nextPage = function (pageNumber) {\n      fetch(\"https://api.themoviedb.org/3/search/movie?api_key=\".concat(_this.apiKey, \"&query=\").concat(_this.state.searchTerm, \"&language=en-US&page=\").concat(pageNumber)).then(function (data) {\n        return data.json();\n      }).then(function (data) {\n        _this.setState({\n          movies: _toConsumableArray(data.results),\n          totalResults: data.total_results,\n          currentPage: pageNumber\n        });\n      });\n    };\n\n    _this.viewMovieInfo = function (id) {\n      var filteredMovie;\n\n      _this.state.movies.forEach(function (movie, i) {\n        if (movie.id == id) {\n          filteredMovie = movie;\n        }\n      });\n\n      _this.setState({\n        currentMovie: filteredMovie\n      });\n    };\n\n    _this.closeMovieInfo = function () {\n      _this.setState({\n        currentMovie: null\n      });\n    };\n\n    _this.state = {\n      movies: [],\n      totalResults: 0,\n      searchTerm: '',\n      currentPage: 1,\n      currentMovie: null\n    };\n    _this.apiKey = process.env.REACT_APP_API;\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var numberPages = Math.floor(this.state.totalResults / 20);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }\n      }), this.state.currentMovie == null ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 46\n        }\n      }, /*#__PURE__*/React.createElement(SearchBox, {\n        handleSubmit: this.handleSubmit,\n        handleChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 51\n        }\n      }), /*#__PURE__*/React.createElement(MovieList, {\n        viewMovieInfo: this.viewMovieInfo,\n        movies: this.state.movies,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 129\n        }\n      })) : /*#__PURE__*/React.createElement(MovieInfo, {\n        closeMovieInfo: this.closeMovieInfo,\n        currentMovie: this.state.currentMovie,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 212\n        }\n      }), this.state.totalResults > 20 && this.state.currentMovie == null ? /*#__PURE__*/React.createElement(Pagination, {\n        pages: numberPages,\n        nextPage: this.nextPage,\n        currentPage: this.state.currentPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 80\n        }\n      }) : '');\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["F:/dbmovie-master/dbmovie-master/src/components/App.js"],"names":["React","Component","Nav","SearchBox","MovieList","Pagination","MovieInfo","App","handleChange","e","setState","searchTerm","target","value","logData","console","log","process","env","REACT_APP_API","handleSubmit","fetch","apiKey","state","currentPage","then","data","json","movies","results","totalResults","total_results","preventDefault","nextPage","pageNumber","viewMovieInfo","id","filteredMovie","forEach","movie","i","currentMovie","closeMovieInfo","numberPages","Math","floor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../App.css';\nimport Nav from './Nav'\nimport SearchBox from './SearchBox'\nimport MovieList from './MovieList'\nimport Pagination from './Pagination'\nimport MovieInfo from './MovieInfo';\n\nclass App extends Component {\n  constructor(){\n    super()\n    this.state = {\n      movies: [],\n      totalResults: 0,\n      searchTerm: '',\n      currentPage: 1,\n      currentMovie: null\n    }\n    this.apiKey = process.env.REACT_APP_API\n  }\n\n  handleChange = (e) => {\n    this.setState({ searchTerm: e.target.value })\n  }\n\n  logData = () => {\n    console.log(process.env.REACT_APP_API);\n  }\n\n  handleSubmit = (e) => { \n    fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${this.state.searchTerm}&language=en-US&page=${this.state.currentPage}`)\n    .then(data => data.json())\n    .then(data => {\n      console.log(data);\n      this.setState({ movies: [...data.results], totalResults: data.total_results})\n    })\n    \n    e.preventDefault()\n  }\n\n  nextPage = (pageNumber) => {\n    fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${this.state.searchTerm}&language=en-US&page=${pageNumber}`)\n    .then(data => data.json())\n    .then(data => {\n      this.setState({ movies: [...data.results], totalResults: data.total_results, currentPage: pageNumber})\n    })\n  }\n\n  viewMovieInfo = (id) => {\n    let filteredMovie;\n    this.state.movies.forEach((movie, i) => {\n      if(movie.id == id) {\n        filteredMovie = movie\n      }\n    }) \n\n    this.setState({ currentMovie: filteredMovie })  \n  }\n\n  closeMovieInfo = () => {\n    this.setState({ currentMovie: null })\n  }\n\n  render() {\n    let numberPages = Math.floor(this.state.totalResults / 20);\n    return (\n        <div>\n          <Nav />\n          \n          {this.state.currentMovie == null ? <div><SearchBox handleSubmit={this.handleSubmit} handleChange={this.handleChange}/><MovieList viewMovieInfo={this.viewMovieInfo} movies={this.state.movies}/></div> : <MovieInfo closeMovieInfo={this.closeMovieInfo} currentMovie={this.state.currentMovie} />}\n            {this.state.totalResults > 20 && this.state.currentMovie == null ? <Pagination pages={numberPages} nextPage={this.nextPage} currentPage={this.state.currentPage}/> : ''}\n        </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}